# 06 一串数据怎么存—列表和字符串

更新时间：2019-08-26 10:09:38

![img](img/5d633f450001900052002917.jpg)

![img](img/bg-l-1584236720569.png)![img](img/bg-r-1584236720581.png)

知识犹如人体的血液一样宝贵。

——高士其

上一节中讲了数据类型，有一个问题，之前所介绍的数据类型大多是用来表示单个数据的。比如整数型，一个整数型的变量只能保存一个整数。又如布尔型，一个布尔型的变量只能保存一个布尔值。浮点型和 None 型也是如此。要是此刻有一系列的数据，那该怎么在程序里保存和使用呢？

举个栗子：当我的只有一个电话号码的时候，我可以使用整数型来表示，并保存在变量里：

```python
tel = 13011110000
```

但如果有十个电话号码，该怎么来表示和使用它们呢？

> 13011110000
> 18022221111
> 13433332222
> 13344443333
> 17855554444
> 13866665555
> 15177776666
> 13388887777
> 18799998888
> 17800009999

你可能会说，「那就用十个变量」，像这样：

```python
tel01 = 13011110000
tel02 = 18022221111
...
tel10 = 17800009999
```

或者「把它们用逗号拼在一起然后放到字符串里」：

```python
tels = '13011110000,18022221111,13433332222,13344443333,17855554444,13866665555,15177776666,13388887777,18799998888,17800009999'
```

是的，看起来这似乎能解决问题。但是这两种办法的弊端也很明显。第一种使用多个变量的方式，在数据量很大的情况下使用起来会十分繁琐；第二种使用字符串的方式，如果我们需要对其中的某些数据做处理，那这种方式就很不方便灵活了。

这时我们可以选择使用列表。



### 列表（List）

**列表**是一种用于保存批量数据的数据类型。它和整数型、布尔型等数据类型一样都被内置在 Python 中。

#### 列表的写法

列表的写法为 `[ 数据项1, 数据项2, ..., 数据项N ]`，方括号就代表列表，每个数据项放在方括号中并用逗号分隔。

如之前的那一串电话号码可以这样来保存：

```python
tels = [13011110000, 18022221111, 13433332222, 13344443333, 17855554444, 13866665555, 15177776666, 13388887777, 18799998888, 17800009999]
```

> 扩展：为了方便阅读，我们也可以把把这个列表写成多行的形式：
>
> ```python
> tels = [
>  13011110000, 
>  18022221111, 
>  13433332222, 
>  13344443333, 
>  17855554444, 
>  13866665555, 
>  15177776666, 
>  13388887777, 
>  18799998888, 
>  17800009999
> ]
> ```
>
> 每个数据项一行，这样是不是更好看了！
>
> 在解释器的交互模式中输入这样的多行代码时，我们会发现第一行的提示符是 `>>>`，之后每行的提示符会变成 `...`，直到完成了多行输入则又变回 `>>>`。如：
>
> \>>> tels = [
> … 13011110000,
> … 18022221111,
> … 13433332222
> … ]
> \>>>

列表中的数据可以是任意类型的。比如整数型、字符串类型和布尔类型等：

```python
[100, 'about', True]
```

#### 列表索引

列表中的每个数据项都是有先后次序的，最前面的数据项的位置编号为 0，之后依次是 1 ，2 …… N，这个位置编号在编程中的术语叫做**索引**（Index）。注意 Python 中索引是从 0 开始计数的，0 即代表第一个位置。

可以通过符号 `[]` 来获取某个索引所对应的数据项。比如：

> \>>> fruits = [‘apple’, ‘banana’, ‘cherry’, ‘durian’]
> \>>> **fruits[0]**
> ’apple’
> \>>> **fruits[2]**
> ’cherry’

上面的 `fruits` 有 4 项数据，所以最大的索引是 `3`。如果我们强行要用更大的索引值去取数据会怎样呢，来试一下：

> \>>> fruits[4]
> Traceback (most recent call last):
>    File “”, line 1, in
> IndexError: list index out of range

可以看到代码直接就报错了，具体信息为「list index out of range」，列表索引超出范围。

> 扩展：这是 Python 的典型报错形式，这里有三行内容（也可能会有很多行），前两行是错误定位，描述出错的位置（如某文件的某行），后面是错误描述，指出这是个 `IndexError` 错误，具体信息为「list index out of range」。
>
> 若大家在写代码时遇到错误，可以按照这种方法尝试自己分析错误信息。

除了通过索引去获取值，也可以通过索引去改变列表中某项数据的值。通过赋值的方式来实现：

```python
fruits[0] = 'pear'
```

> \>>> fruits[0]
> ‘apple’
>
> \>>> **fruits[0] = 'pear’**
> \>>> fruits[0]
> ‘pear’

#### 列表的长度

列表中数据项的个数，叫做**列表（的）长度**。

想要获得列表的长度可以使用 `len()` 这个东西。像这样：

```python
len(fruits)
```

> \>>> **len(fruits)**
> 4

> \>>> **len([1, 2, 3, 4, 5, 6, 7])**
> 7

> 说明：`len()` 是 Python 中的内置函数。函数的概念会在之后的章节中介绍。

#### 向列表添加数据

之前使用时，列表中的数据在一开始就已经被确定下来了，并一直保持着这个长度。但在很多时候，我们需要随时向列表中添加数据。

**向列表的末尾添加数据**可以用 `.append()`这个东西，它的写法是：

```python
列表.append(新数据)
```

看一个示例。这里首先创建了一个空的列表，将其变量命名为 `fruits`，然后通过 `.append()` 向其中添加内容。

> \>>> fruits = []
> \>>> fruits
> []
>
> \>>> fruits.append(‘pear’)
> \>>> fruits
> [‘pear’]
>
> \>>> fruits.append(‘lemon’)
> \>>> fruits
> [‘pear’, ‘lemon’]

> 扩展：append() 是列表的方法。「方法」具体是什么我们在之后的面向对象章节中介绍。这里暂且把方法理解为某个数据类型自带的功能，如 append() 是列表自带的功能。



### 字符串（String）

字符串也可以保存批量数据，只不过其中的数据项只能是字符。

我们在前一个章节中介绍过字符串，字符串是用来表示文本的数据类型。字符串以单引号或双引号以及包裹在其中的若干字符组成，如：

```python
'good good study'
'100'
'江畔何人初见月，江月何年初照人'
```

#### 字符串索引

从形式上我们不难看出，字符串中的字符也是有先后次序的。字符串是字符的有序序列，所以也具有索引。也可以根据索引取出其中某一个字符。其索引使用方式和列表相同：

```python
'good good study'[3]
```

> \>>> ‘good good study’[3]
> ‘d’

也可以先把字符串保存在变量里，然后在变量上使用索引。结果是一样的：

```python
words = 'good good study'
words[3]
```

> \>>> words = ‘good good study’
> \>>> words[3]
> ‘d’

有一点需要注意，字符串不能像列表那样通过索引去改变数据项的值。因为字符串类型的值是**不可变的**（Immutable），我们不能在原地修改它其中的某个字符。

> \>>> words = ‘good good study’
> \>>> words[3] = 'b’
> Traceback (most recent call last):
>    File “”, line 1, in
> TypeError: ‘str’ object does not support item assignment

上面报出一个 TypeError 错误，具体信息为「‘str’ object does not support item assignment」，其中「‘str’ object」指的就是字符串，它不支持直接为其中某一个项（字符）赋值。

#### 字符串长度

字符串中字符的个数也就是**字符串的长度**（包括空格在内的所有空白符号）。

获取字符串长度的方式和列表一样，也是使用 `len()`：

```python
len('good good study')
```

> \>>> len(‘good good study’)
> 15



### 总结

如果我们想要保存和表示批量数据，可以使用 Python 中的列表（List）类型。列表是有序序列，能保存任意类型的数据项，可以通过索引（Index）来获取和修改其中某一个数据项，可以通过 `len()` 函数来获取列表的长度，也可以通过 `.append()` 在列表末尾追加数据项。

如果数据是文本，那么可以用字符串类型（String）来表示。字符串类型是字符的有序序列，可以通过索引获取某个位置的字符，也可以通过 `len()` 函数来获取长度。

Python 中的列表和字符串还有很多功能，之后讲「数据结构」时为大家一一介绍。

> 多语言比较：
>
> 数组是保存和表示批量数据的最基本的结构，它也是构造字符串、集合和容器的基石。
>
> **Python 中没有数组概念**，取而代之的是列表这种更高级的数据结构，列表涵盖了数组的功能并提供了更多且更强大的功能。
>
> Java 中，用 `类型[]` 的写法来表示数组：
>
> ```java
> // 定义数组
> int numbers[];
> 
> // 定义数组并用指定值初始化：
> int numbers[] = {1, 2, 3};
> ```
>
> C/C++ 定义数组：
>
> ```c
> // 定义数组
> int numbers[3];
> 
> // 定义数组并用指定值初始化：
> int numbers[] = {1, 2, 3};
> ```
>
> Go 语言定义数组：
>
> ```go
> // 定义数组
> var numbers [3] int
> 
> // 定义数组并用指定值初始化：
> var numbers = [3]int {1, 2, 3}
> 预览
> ```

